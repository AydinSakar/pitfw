registerNamespace("CalculatorApp.Calculator");registerNamespace("CalculatorApp");CalculatorApp.Calculator.DomAttribute = (function(){function DomAttribute(name,value){this.Name=name;this.Value=value;}DomAttribute.prototype.get_Name=function(){return this.Name;};DomAttribute.prototype.get_Value=function(){return this.Value;};return DomAttribute;})();CalculatorApp.Calculator.op_Dynamic=function(el){return function(name){return el.getAttribute(name);};};CalculatorApp.Calculator.op_DynamicAssignment=function(el){return function(name){return function(value){return el.setAttribute(name,value);};};};CalculatorApp.Calculator.op_AtEquals=function(name){return function(value){return new CalculatorApp.Calculator.DomAttribute(name,value);};};CalculatorApp.Calculator.tag=function(name){return function(attributes){var el=document.createElement(name);var enumerator=attributes.IEnumerable1_GetEnumerator();(function(thisObject){try {while (enumerator.IEnumerator_MoveNext()){var a=enumerator.IEnumerator1_get_Current();el.setAttribute(a.get_Name(),a.get_Value().ToString());}}finally {(function(thisObject){if (enumerator.containsInterface("__getIDisposable")){return enumerator.IDisposable_Dispose();} else {return null;}})(thisObject)}})(this);return el;};};CalculatorApp.Calculator.get_display=CalculatorApp.Calculator.tag("input")(new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("type")("text"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("value")(0),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("style")("text-align:right"),new Pit.FSharp.Collections.FSharpList1.Empty()))));CalculatorApp.Calculator.get_operation=new Pit.FSharp.Core.FSharpOption1.None();CalculatorApp.Calculator.get_append=false;CalculatorApp.Calculator.clear=function(){CalculatorApp.Calculator.op_DynamicAssignment(CalculatorApp.Calculator.get_display)("value")("0");return CalculatorApp.Calculator.get_append=false;};CalculatorApp.Calculator.enter=function(s){return {Item1 : s,Item2 : function(){var value=CalculatorApp.Calculator.op_Dynamic(CalculatorApp.Calculator.get_display)("value");return (function(thisObject){if (CalculatorApp.Calculator.get_append){return CalculatorApp.Calculator.op_DynamicAssignment(CalculatorApp.Calculator.get_display)("value")((value + s));} else {CalculatorApp.Calculator.op_DynamicAssignment(CalculatorApp.Calculator.get_display)("value")(s);return CalculatorApp.Calculator.get_append=true;}})(this);}};};CalculatorApp.Calculator.calculate=function(){var value=Pit.FSharp.Core.Operators.ToInt(CalculatorApp.Calculator.op_Dynamic(CalculatorApp.Calculator.get_display)("value"));Pit.FSharp.Core.Operators.op_PipeRight(CalculatorApp.Calculator.get_operation)(function(option){return Pit.FSharp.Core.OptionModule.Iterate(function(op){var newValue=op(value);return CalculatorApp.Calculator.op_DynamicAssignment(CalculatorApp.Calculator.get_display)("value")(newValue.ToString());})(option);});CalculatorApp.Calculator.get_operation=new Pit.FSharp.Core.FSharpOption1.None();return CalculatorApp.Calculator.get_append=false;};CalculatorApp.Calculator.operator=function(op){CalculatorApp.Calculator.calculate();var value=Pit.FSharp.Core.Operators.op_PipeRight(CalculatorApp.Calculator.op_Dynamic(CalculatorApp.Calculator.get_display)("value"))(function(value){return Pit.FSharp.Core.Operators.ToInt(value);});return CalculatorApp.Calculator.get_operation=Pit.FSharp.Core.Operators.op_PipeRight(op(value))(function(arg0){return new Pit.FSharp.Core.FSharpOption1.Some(arg0);});};CalculatorApp.Calculator.get_add=function(x){return function(y){return (x + y);};};CalculatorApp.Calculator.get_sub=function(x){return function(y){return (x - y);};};CalculatorApp.Calculator.get_mul=function(x){return function(y){return (x * y);};};CalculatorApp.Calculator.get_div=function(x){return function(y){return (x / y);};};CalculatorApp.Calculator.get_buttons=new Pit.FSharp.Collections.FSharpList1.Cons(new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("7"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("8"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("9"),new Pit.FSharp.Collections.FSharpList1.Cons({Item1 : "/",Item2 : function(arg10){return CalculatorApp.Calculator.operator(CalculatorApp.Calculator.get_div);}},new Pit.FSharp.Collections.FSharpList1.Empty())))),new Pit.FSharp.Collections.FSharpList1.Cons(new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("4"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("5"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("6"),new Pit.FSharp.Collections.FSharpList1.Cons({Item1 : "*",Item2 : function(arg10){return CalculatorApp.Calculator.operator(CalculatorApp.Calculator.get_mul);}},new Pit.FSharp.Collections.FSharpList1.Empty())))),new Pit.FSharp.Collections.FSharpList1.Cons(new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("1"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("2"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("3"),new Pit.FSharp.Collections.FSharpList1.Cons({Item1 : "-",Item2 : function(arg10){return CalculatorApp.Calculator.operator(CalculatorApp.Calculator.get_sub);}},new Pit.FSharp.Collections.FSharpList1.Empty())))),new Pit.FSharp.Collections.FSharpList1.Cons(new Pit.FSharp.Collections.FSharpList1.Cons({Item1 : "C",Item2 : function(arg00){return CalculatorApp.Calculator.clear();}},new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.enter("0"),new Pit.FSharp.Collections.FSharpList1.Cons({Item1 : "=",Item2 : function(arg00){return CalculatorApp.Calculator.calculate();}},new Pit.FSharp.Collections.FSharpList1.Cons({Item1 : "+",Item2 : function(arg10){return CalculatorApp.Calculator.operator(CalculatorApp.Calculator.get_add);}},new Pit.FSharp.Collections.FSharpList1.Empty())))),new Pit.FSharp.Collections.FSharpList1.Empty()))));DOM.domReady(function(){var table=Pit.FSharp.Core.Operators.op_PipeRight(CalculatorApp.Calculator.tag("table")(new Pit.FSharp.Collections.FSharpList1.Empty()))(function(arg00){return arg00;});var tr=CalculatorApp.Calculator.tag("tr")(new Pit.FSharp.Collections.FSharpList1.Empty());var td=CalculatorApp.Calculator.tag("td")(new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("colspan")("4"),new Pit.FSharp.Collections.FSharpList1.Empty()));td.appendChild(CalculatorApp.Calculator.get_display);tr.appendChild(td);table.appendChild(tr);Pit.FSharp.Core.Operators.op_PipeRight(CalculatorApp.Calculator.get_buttons)(function(list){return Pit.FSharp.Collections.ListModule.Iterate(function(row){var tr1=CalculatorApp.Calculator.tag("tr")(new Pit.FSharp.Collections.FSharpList1.Empty());Pit.FSharp.Core.Operators.op_PipeRight(row)(function(list1){return Pit.FSharp.Collections.ListModule.Iterate(function(tupledArg){var text=tupledArg.Item1;var action=tupledArg.Item2;var td1=CalculatorApp.Calculator.tag("td")(new Pit.FSharp.Collections.FSharpList1.Empty());var input=CalculatorApp.Calculator.tag("input")(new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("type")("button"),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("value")(text),new Pit.FSharp.Collections.FSharpList1.Cons(CalculatorApp.Calculator.op_AtEquals("style")("width:32px"),new Pit.FSharp.Collections.FSharpList1.Empty()))));Pit.FSharp.Core.Operators.op_PipeRight(Pit.FSharp.Core.Operators.op_PipeRight(input)(function(el){return Pit.Dom.Event.click(el);}))(function(sourceEvent){return Pit.FSharp.Control.EventModule.Add(function(_arg1){return action();})(sourceEvent);});td1.appendChild(input);return tr1.appendChild(td1);})(list1);});return table.appendChild(tr1);})(list);});var div=document.getElementById("maindiv");return div.appendChild(table);});